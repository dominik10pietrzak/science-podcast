(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],Array(18).concat([function(e,t,n){var a={"./Clear.svg":86,"./Clouds.svg":87,"./Rain.svg":88,"./Snow.svg":89,"./Storm.svg":90};function c(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}c.keys=function(){return Object.keys(a)},c.resolve=s,e.exports=c,c.id=18},,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Clear.3cfa9a96.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Clouds.6b4947e0.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Rain.a370fae8.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Snow.61be2c0b.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Storm.5c0f0266.svg"},function(e,t,n){},function(e,t,n){},function(e,t,n){var a={"./Clear.mp4":94,"./Clouds.mp4":95,"./Rain.mp4":96,"./Snow.mp4":97,"./Storm.mp4":98};function c(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}c.keys=function(){return Object.keys(a)},c.resolve=s,e.exports=c,c.id=93},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Clear.6370ef1e.mp4"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Clouds.7f10d4a8.mp4"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Rain.0b60f3c1.mp4"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Snow.f8cbff6e.mp4"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Storm.725b6d59.mp4"},function(e,t,n){var a={"./Clear.jpg":100,"./Clouds.jpg":101,"./Rain.jpg":102,"./Snow.jpg":103,"./Thunderstorm.jpg":104};function c(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}c.keys=function(){return Object.keys(a)},c.resolve=s,e.exports=c,c.id=99},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Clear.ac9b5231.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Clouds.0d355ba9.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Rain.6ae4143e.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Snow.883b5319.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Thunderstorm.c46a05e0.jpg"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),s=n(21),r=n.n(s),i=(n(54),n(55),n(8)),o=n(3),l=n(2),u=n.n(l),d=n(6),j=n(7),p=n.n(j),b=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n,a){var c,s,r,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"USER_DETAILS_REQUEST"}),c=a(),s=c.userLogin.userInfo,r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,p.a.get("/api/users/".concat(e,"/"),r);case 6:i=t.sent,o=i.data,n({type:"USER_DETAILS_SUCCESS",payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:"USER_DETAILS_FAIL",payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()},m=(n(79),n(5)),h=function(){var e=Object(o.c)((function(e){return e.userLogin})).userInfo,t=Object(o.b)(),n=Object(i.f)();Object(c.useEffect)((function(){var e=document.querySelectorAll(".navigation-button"),t=document.querySelectorAll(".side-button"),n=document.querySelectorAll(".navigation-button .slider");e.forEach((function(e,t){e.addEventListener("mouseenter",(function(){e.style.justifyContent="flex-start",n[t].style.width="100%"})),e.addEventListener("mouseleave",(function(){e.style.justifyContent="flex-end",n[t].style.width="0"}))})),t.forEach((function(e,t){e.style.transition="all 0.3s ease ".concat(.05*t,"s")}))}),[e,n]);var s=function(){t(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("podcastUserInfo"),t({type:"USER_LOGOUT"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},r=function(e){e.stopPropagation();var t=document.querySelector(".menu-button"),n=document.querySelector(".navbar"),a=(document.querySelector("body"),function(){t.classList.toggle("button-active"),n.classList.toggle("navbar-active")});a(),n.classList.contains("navbar-active")||function(e,t){document.addEventListener("click",(function n(a){e!==a&&(t(),document.removeEventListener("click",n))}))}(e,a)};return Object(a.jsxs)("div",{className:"navbar navbar-active",children:[Object(a.jsx)(m.b,{to:"/",className:"name",children:Object(a.jsx)("h3",{children:"NaukowyPodcast"})}),Object(a.jsxs)("div",{className:"menu",children:[Object(a.jsxs)("div",{className:"main-menu",children:[Object(a.jsxs)(m.b,{to:"/",className:"navigation-button",children:["Home",Object(a.jsx)("span",{className:"slider"})]}),Object(a.jsxs)(m.b,{to:"/podcast",className:"navigation-button",children:["Podcast",Object(a.jsx)("span",{className:"slider"})]}),Object(a.jsxs)(m.b,{to:"/weather",className:"navigation-button",children:["Pogoda",Object(a.jsx)("span",{className:"slider"})]}),Object(a.jsxs)(m.b,{to:"/contact",className:"navigation-button",children:["Kontakt",Object(a.jsx)("span",{className:"slider"})]})]}),Object(a.jsxs)("div",{className:"hidden-menu",children:[Object(a.jsxs)(m.b,{to:"/",className:"navigation-button side-button",children:["Home",Object(a.jsx)("span",{className:"slider"})]}),Object(a.jsxs)(m.b,{to:"/podcast",className:"navigation-button side-button",children:["Podcast",Object(a.jsx)("span",{className:"slider"})]}),Object(a.jsxs)(m.b,{to:"/weather",className:"navigation-button side-button",children:["Pogoda",Object(a.jsx)("span",{className:"slider"})]}),Object(a.jsxs)(m.b,{to:"/contact",className:"navigation-button side-button",children:["Kontakt",Object(a.jsx)("span",{className:"slider"})]}),e&&e.isAdmin?Object(a.jsxs)(m.b,{to:"/adminpanel",className:"navigation-button side-button",children:["Admin",Object(a.jsx)("span",{className:"slider"})]}):"",e?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(m.b,{to:"/user",className:"navigation-button side-button",children:[e.username,Object(a.jsx)("i",{className:"far fa-user"}),Object(a.jsx)("span",{className:"slider"})]}),Object(a.jsxs)("span",{className:"navigation-button side-button",onClick:s,children:["Wyloguj",Object(a.jsx)("span",{className:"slider"})]})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(m.b,{to:"/login",className:"navigation-button side-button",children:["Logowanie",Object(a.jsx)("span",{className:"slider"})]}),Object(a.jsxs)(m.b,{to:"/register",className:"navigation-button side-button",children:["Rejestracja",Object(a.jsx)("span",{className:"slider"})]})]})]}),Object(a.jsxs)("div",{className:"side-menu",children:[Object(a.jsxs)("div",{className:"side-menu-option-buttons",children:[e&&e.isAdmin?Object(a.jsxs)(m.b,{to:"/adminpanel",className:"navigation-button",children:["Admin",Object(a.jsx)("span",{className:"slider"})]}):"",e?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(m.b,{to:"/user",className:"navigation-button",children:[e.username,Object(a.jsx)("i",{className:"far fa-user"}),Object(a.jsx)("span",{className:"slider"})]}),Object(a.jsxs)("span",{className:"navigation-button",onClick:s,children:["Wyloguj",Object(a.jsx)("span",{className:"slider"})]})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(m.b,{to:"/login",className:"navigation-button",children:["Logowanie",Object(a.jsx)("span",{className:"slider"})]}),Object(a.jsxs)(m.b,{to:"/register",className:"navigation-button",children:["Rejestracja",Object(a.jsx)("span",{className:"slider"})]})]})]}),Object(a.jsxs)("div",{className:"menu-button",onClick:function(e){r(e)},children:[Object(a.jsx)("div",{className:"line"}),Object(a.jsx)("div",{className:"line"}),Object(a.jsx)("div",{className:"line"})]})]})]})]})},f=(n(81),function(){return Object(a.jsxs)("div",{className:"footer",children:[Object(a.jsx)("span",{children:"Podcast \xa9 2021"}),Object(a.jsxs)("div",{className:"social-media",children:[Object(a.jsx)(m.b,{to:"/",children:"LinkedIn"}),Object(a.jsx)(m.b,{to:"/",children:"Github"}),Object(a.jsx)(m.b,{to:"/",children:"Facebook"}),Object(a.jsx)(m.b,{to:"/",children:"Instagram"})]})]})}),O=(n(82),n.p+"static/media/dominik.e4f5651e.jpg"),x=n.p+"static/media/lukasz.e8735326.jpg",v=n(4),g=(n(83),function(){var e=Object(c.useState)(""),t=Object(v.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(""),i=Object(v.a)(r,2),o=i[0],l=i[1],j=Object(c.useState)(""),b=Object(v.a)(j,2),m=b[0],h=b[1],f=Object(c.useState)(""),O=Object(v.a)(f,2),x=O[0],g=O[1],y=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a={headers:{"Content-type":"application/json"}},e.next=5,p.a.post("/api/users/send_message/",{name:n,email:o,subject:m,message:x},a);case 5:s(""),l(""),h(""),g(""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"message-form",children:Object(a.jsxs)("form",{className:"form-container form-hidden",onSubmit:y,children:[Object(a.jsxs)("div",{className:"form-flex-container",children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Imi\u0119 i nazwisko"}),Object(a.jsx)("input",{className:"text-field",type:"text",value:n,onChange:function(e){return s(e.target.value)},autoComplete:"off"}),Object(a.jsx)("label",{children:"Email"}),Object(a.jsx)("input",{className:"text-field",type:"email",value:o,onChange:function(e){return l(e.target.value)},autoComplete:"off"}),Object(a.jsx)("label",{children:"Temat wiadomo\u015bci"}),Object(a.jsx)("input",{className:"text-field",type:"text",value:m,onChange:function(e){return h(e.target.value)},autoComplete:"off"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Wiadomo\u015b\u0107"}),Object(a.jsx)("textarea",{className:"text-field",value:x,onChange:function(e){return g(e.target.value)},autoComplete:"off"})]})]}),Object(a.jsx)("div",{className:"bottom",children:Object(a.jsx)("button",{className:"send-button",type:"submit",children:"Wy\u015blij"})})]})})}),y=function(){Object(c.useEffect)((function(){document.querySelector(".navbar").style.background="black";var e=document.querySelector(".contact");return setTimeout((function(){e.classList.remove("contact-hidden")}),350),function(){document.querySelector(".navbar").style.background="transparent"}}));return Object(a.jsx)("div",{className:"contact contact-hidden",children:Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsx)("h1",{className:"heading",children:"Kontakt"}),Object(a.jsxs)("div",{className:"crew",onLoad:function(){document.querySelectorAll(".person img").forEach((function(e){setTimeout((function(){e.style.opacity="1"}),15)}))},children:[Object(a.jsxs)("div",{className:"dominik person",children:[Object(a.jsxs)("div",{className:"person-top",children:[Object(a.jsxs)("div",{className:"social-media",children:[Object(a.jsx)("a",{href:"https://www.linkedin.com/in/dominik-pietrzak-0223bb197/",children:Object(a.jsx)("i",{className:"fab fa-linkedin"})}),Object(a.jsx)("a",{href:"https://www.facebook.com/dominik.pietrzak.10/",children:Object(a.jsx)("i",{className:"fab fa-facebook-square"})}),Object(a.jsx)("a",{href:"https://www.instagram.com/dominik__pietrzak/?hl=pl",children:Object(a.jsx)("i",{className:"fab fa-instagram"})}),Object(a.jsx)("a",{href:"https://github.com/dominik10pietrzak",children:Object(a.jsx)("i",{className:"fab fa-github-square"})})]}),Object(a.jsx)("img",{src:O,alt:"dominik"})]}),Object(a.jsxs)("div",{className:"contact-forms",children:[Object(a.jsx)("h1",{children:"Dominik Pietrzak"}),Object(a.jsx)("p",{className:"introduction",children:"Web Developer, tw\xf3rca aplikacji."}),Object(a.jsxs)("span",{children:[Object(a.jsx)("i",{className:"fas fa-phone"}),"662-792-664"]}),Object(a.jsxs)("span",{children:[Object(a.jsx)("i",{className:"fas fa-envelope"}),"dominikpietrzak.webdev@gmail.com"]})]})]}),Object(a.jsxs)("div",{className:"lukasz person",children:[Object(a.jsxs)("div",{className:"person-top",children:[Object(a.jsxs)("div",{className:"social-media",children:[Object(a.jsx)("a",{href:"https://www.facebook.com/profile.php?id=100005872603770",children:Object(a.jsx)("i",{className:"fab fa-facebook-square"})}),Object(a.jsx)("a",{href:"https://www.instagram.com/zdunczyk_lukasz/",children:Object(a.jsx)("i",{className:"fab fa-instagram"})})]}),Object(a.jsx)("img",{src:x,alt:"lukasz"})]}),Object(a.jsxs)("div",{className:"contact-forms",children:[Object(a.jsx)("h1",{children:"\u0141ukasz Zdu\u0144czyk"}),Object(a.jsx)("p",{className:"introduction",children:"Dziennikarz, prowadz\u0105cy podcastu."}),Object(a.jsxs)("span",{children:[Object(a.jsx)("i",{className:"fas fa-phone"}),"605-047-257"]}),Object(a.jsxs)("span",{children:[Object(a.jsx)("i",{className:"fas fa-envelope"}),"zdunczyklukasz01@gmail.com"]})]})]})]}),Object(a.jsx)("h1",{className:"heading",children:"Napisz do nas"}),Object(a.jsx)(g,{})]})})},S=n(41),E=n(42),N=n(48),C=n(46),k=(n(84),function(e){switch(e){case"Clouds":e="Chmury";break;case"Clear":e="S\u0142o\u0144ce";break;case"Rain":e="Deszcz";break;case"Storm":e="Burza";break;case"Snow":e="\u015anieg"}return e}),T=function(e){var t=e.weatherData,n=function(){var e=new Date,t=e.getDay(),n=e.getDate(),a=e.getMonth();return{dayOfWeek:["Niedziela","Poniedzia\u0142ek","Wtorek","\u015aroda","Czwartek","Pi\u0105tek","Sobota"][t],dayOfMonth:n,month:["Stycznia","Lutego","Marca","Kwietnia","Maja","Czerwca","Lipca","Sierpnia","Wrze\u015bnia","Pa\u017adziernika","Listopada","Grudnia"][a]}}();return Object(a.jsxs)("div",{className:"current-weather",children:[Object(a.jsxs)("div",{className:"left",children:[Object(a.jsxs)("h1",{className:"temperature",children:[Math.round(t.currentTemp),"\xb0"]}),Object(a.jsx)("span",{children:k(t.description)}),Object(a.jsxs)("div",{className:"description",children:[Object(a.jsxs)("span",{children:["H: ",t.humidity,"% "]}),Object(a.jsxs)("span",{children:["W: ",Math.round(t.windSpeed)," km/h"]})]})]}),Object(a.jsxs)("div",{className:"location",children:[Object(a.jsxs)("h3",{className:"city-name",children:[t.city,""!==t.country?", "+t.country:""]}),Object(a.jsxs)("span",{className:"date",children:[n.dayOfWeek,", ",n.dayOfMonth," ",n.month]})]})]})},_=(n(85),function(e){var t=e.weatherData,c=function(){var e=(new Date).getDay(),t=["Niedz","Pon","Wt","\u015ar","Czw","Pt","Sob"];window.innerWidth>1024&&(t=["Niedziela","Poniedzia\u0142ek","Wtorek","\u015aroda","Czwartek","Pi\u0105tek","Sobota"]);for(var n=[],a=e+1,c=0;c<5;c++)7===a?(a=0,n.push(t[a])):n.push(t[a]),a++;return n}();return Object(a.jsxs)("div",{className:"forecast",children:[Object(a.jsxs)("div",{className:"day-forecast",children:[Object(a.jsx)("h3",{className:"day-of-week",children:c[0]}),Object(a.jsxs)("h3",{children:[Math.round(t.tempIn1D),"\xb0"]}),Object(a.jsx)("img",{src:n(18)("./".concat(t.descIn1D,".svg")).default,alt:"1dimg"}),Object(a.jsx)("span",{className:"forecast-description",children:k(t.descIn1D)})]}),Object(a.jsxs)("div",{className:"day-forecast",children:[Object(a.jsx)("h3",{className:"day-of-week",children:c[1]}),Object(a.jsxs)("h3",{children:[Math.round(t.tempIn2D),"\xb0"]}),Object(a.jsx)("img",{src:n(18)("./".concat(t.descIn2D,".svg")).default,alt:"2dimg"}),Object(a.jsx)("span",{className:"forecast-description",children:k(t.descIn2D)})]}),Object(a.jsxs)("div",{className:"day-forecast",children:[Object(a.jsx)("h3",{className:"day-of-week",children:c[2]}),Object(a.jsxs)("h3",{children:[Math.round(t.tempIn3D),"\xb0"]}),Object(a.jsx)("img",{src:n(18)("./".concat(t.descIn3D,".svg")).default,alt:"3dimg"}),Object(a.jsx)("span",{className:"forecast-description",children:k(t.descIn3D)})]}),Object(a.jsxs)("div",{className:"day-forecast",children:[Object(a.jsx)("h3",{className:"day-of-week",children:c[3]}),Object(a.jsxs)("h3",{children:[Math.round(t.tempIn4D),"\xb0"]}),Object(a.jsx)("img",{src:n(18)("./".concat(t.descIn4D,".svg")).default,alt:"4dimg"}),Object(a.jsx)("span",{className:"forecast-description",children:k(t.descIn4D)})]}),Object(a.jsxs)("div",{className:"day-forecast",children:[Object(a.jsx)("h3",{className:"day-of-week",children:c[4]}),Object(a.jsxs)("h3",{children:[Math.round(t.tempIn5D),"\xb0"]}),Object(a.jsx)("img",{src:n(18)("./".concat(t.descIn5D,".svg")).default,alt:"5dimg"}),Object(a.jsx)("span",{className:"forecast-description",children:k(t.descIn5D)})]})]})}),w=(n(91),n(92),function(){return Object(a.jsx)("div",{className:"loader-wrapper loader",children:Object(a.jsxs)("div",{className:"lds-roller",children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]})})}),D=function(e){Object(N.a)(c,e);var t=Object(C.a)(c);function c(){var e;Object(S.a)(this,c);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={APIKey:"e7eec20a0655f51584d3e1a50afa74ca",currentTemp:"",city:"Warsaw",value:"",country:"PL",humidity:"",windSpeed:"",description:"Rain",tempIn1D:"",tempIn2D:"",tempIn3D:"",tempIn4D:"",tempIn5D:"",descIn1D:"Clear",descIn2D:"Clear",descIn3D:"Clear",descIn4D:"Clear",descIn5D:"Clear",loading:!1},e.fetchWeather=function(){var t=Object(d.a)(u.a.mark((function t(n){var a,c,s,r,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=document.querySelector(".weather .background"),e.setState({loading:!0}),c="https://api.openweathermap.org/data/2.5/forecast?q=".concat(n,"&appid=").concat(e.state.APIKey,"&units=metric"),a&&setTimeout((function(){a.style.opacity="0"}),15),t.prev=4,t.next=7,p.a.get(c);case 7:s=t.sent,r=s.data,i=0,o=0;case 11:if(!(o<8)){t.next=19;break}if(15!==new Date(r.list[o].dt_txt).getHours()){t.next=16;break}return i=o,t.abrupt("break",19);case 16:o++,t.next=11;break;case 19:e.setState({currentTemp:r.list[0].main.temp,city:r.city.name,country:r.city.country,humidity:r.list[0].main.humidity,windSpeed:r.list[0].wind.speed,description:r.list[0].weather[0].main,tempIn1D:r.list[i].main.temp,tempIn2D:r.list[i+8].main.temp,tempIn3D:r.list[i+16].main.temp,tempIn4D:r.list[i+24].main.temp,tempIn5D:r.list[i+32].main.temp,descIn1D:r.list[i].weather[0].main,descIn2D:r.list[i+8].weather[0].main,descIn3D:r.list[i+16].weather[0].main,descIn4D:r.list[i+24].weather[0].main,descIn5D:r.list[i+32].weather[0].main}),a&&setTimeout((function(){a.style.opacity="1"}),15),t.next=27;break;case 23:t.prev=23,t.t0=t.catch(4),console.log(t.t0),e.setState({loading:!1});case 27:setTimeout((function(){e.setState({loading:!1}),e.showWeatherData()}),300);case 28:case"end":return t.stop()}}),t,null,[[4,23]])})));return function(e){return t.apply(this,arguments)}}(),e.searchForWeather=function(t){t.preventDefault(),e.state.value.toUpperCase()!==e.state.city.toUpperCase()&&e.fetchWeather(e.state.value),e.setState({value:""})},e.componentDidMount=function(){window.scrollTo({top:0}),e.fetchWeather("Warszawa")},e.showWeatherData=function(){var e=document.querySelector(".weather-content");setTimeout((function(){e&&e.classList.remove("content-hidden")}),150)},e}return Object(E.a)(c,[{key:"render",value:function(){var e=this,t=n(93)("./".concat(this.state.description,".mp4")).default,c=n(99)("./".concat(this.state.description,".jpg")).default,s=this.state,r=s.loading,i=s.value;return Object(a.jsxs)("div",{className:"weather",children:[window.innerWidth>420?Object(a.jsx)("video",{className:"background",autoPlay:!0,muted:!0,loop:!0,id:"myVideo",src:t}):Object(a.jsx)("img",{className:"background",src:c,alt:"bg"}),r?Object(a.jsx)(w,{}):Object(a.jsxs)("div",{className:"weather-content content-hidden",children:[Object(a.jsxs)("form",{className:"search-form",onSubmit:function(t){return e.searchForWeather(t)},children:[Object(a.jsx)("input",{type:"text",value:i,onChange:function(t){return e.setState({value:t.target.value})},placeholder:"Wpisz nazw\u0119 miasta"}),Object(a.jsx)("button",{type:"submit",children:Object(a.jsx)("i",{className:"fas fa-search"})})]}),Object(a.jsx)(T,{weatherData:this.state}),Object(a.jsx)(_,{weatherData:this.state})]})]})}}]),c}(c.Component),A=(n(105),function(e){var t=e.children;return Object(a.jsx)("div",{className:"message",children:t})}),I=(n(38),function(e){var t=e.location,n=Object(c.useState)(""),s=Object(v.a)(n,2),r=s[0],l=s[1],j=Object(c.useState)(""),b=Object(v.a)(j,2),h=b[0],f=b[1],O=Object(c.useState)(""),x=Object(v.a)(O,2),g=x[0],y=x[1],S=Object(c.useState)(""),E=Object(v.a)(S,2),N=E[0],C=E[1],k=Object(o.b)(),T=Object(i.f)(),_=t.search?t.search.split("=")[1]:"/",D=Object(o.c)((function(e){return e.userRegister})),I=D.error,L=D.loading,U=D.userInfo;Object(c.useEffect)((function(){return U&&T.push(_),R(),function(){P()}}),[L,U,_]);var R=function(){document.querySelector(".navbar").style.background="black";var e=document.querySelector(".login-register-form");setTimeout((function(){e.style.opacity="1"}),15)},P=function(){document.querySelector(".navbar").style.background="transparent"};return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"login-register-container",children:Object(a.jsxs)("form",{className:"login-register-form",onSubmit:function(e){e.preventDefault(),g!==N?console.log("Passwords do not match"):k(function(e,t,n){return function(){var a=Object(d.a)(u.a.mark((function a(c){var s,r,i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c({type:"USER_REGISTER_REQUEST"}),s={headers:{"Content-type":"application/json"}},a.next=5,p.a.post("/api/users/register/",{name:e,email:t,password:n},s);case 5:r=a.sent,i=r.data,c({type:"USER_REGISTER_SUCCESS",payload:i}),c({type:"USER_LOGIN_SUCCESS",payload:i}),localStorage.setItem("podcastUserInfo",JSON.stringify(i)),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),c({type:"USER_REGISTER_FAIL",payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 15:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()}(r,h,g))},children:[Object(a.jsx)("h2",{className:"heading",children:"Zarejestruj si\u0119"}),Object(a.jsx)("p",{className:"sign-in-info",children:"Tworz\u0105c konto uzyskasz mo\u017cliwo\u015b\u0107 dodawania komentarzy."}),Object(a.jsx)("input",{type:"text",value:r,onChange:function(e){return l(e.target.value)},placeholder:"Nazwa u\u017cytkownika",required:!0}),Object(a.jsx)("input",{type:"email",value:h,onChange:function(e){return f(e.target.value)},placeholder:"Email",required:!0}),Object(a.jsx)("input",{type:"password",value:g,onChange:function(e){return y(e.target.value)},placeholder:"Has\u0142o",required:!0}),Object(a.jsx)("input",{type:"password",value:N,onChange:function(e){return C(e.target.value)},placeholder:"Powt\xf3rz has\u0142o",required:!0}),Object(a.jsx)("button",{type:"submit",children:"Utw\xf3rz konto"}),I&&Object(a.jsx)(A,{children:I}),L&&Object(a.jsx)(w,{}),Object(a.jsxs)("p",{className:"sign-in-info",children:["Masz ju\u017c konto?"," ",Object(a.jsx)(m.b,{to:"/login",className:"link-button",children:Object(a.jsx)("strong",{children:"Zaloguj si\u0119"})})]})]})})})}),L=(n(106),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(d.a)(u.a.mark((function t(n){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"PODCAST_LIST_REQUEST"}),console.log(e),t.next=5,p.a.get("/api/podcast/".concat(e));case 5:a=t.sent,c=a.data,n({type:"PODCAST_LIST_SUCCESS",payload:c}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:"PODCAST_LIST_FAIL",payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}),U=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"PODCAST_DETAILS_REQUEST"}),t.next=4,p.a.get("/api/podcast/".concat(e));case 4:a=t.sent,c=a.data,n({type:"PODCAST_DETAILS_SUCCESS",payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:"PODCAST_DETAILS_FAIL",payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},R=function(e){var t=e.history,n=Object(c.useState)(""),s=Object(v.a)(n,2),r=s[0],i=s[1],l=Object(c.useState)(""),j=Object(v.a)(l,2),h=j[0],f=j[1],O=Object(c.useState)(""),x=Object(v.a)(O,2),g=x[0],y=x[1],S=Object(c.useState)(""),E=Object(v.a)(S,2),N=E[0],C=E[1],k=Object(c.useState)(""),T=Object(v.a)(k,2),_=T[0],D=T[1],A=Object(c.useState)(""),I=Object(v.a)(A,2),U=(I[0],I[1]),R=Object(c.useState)(""),P=Object(v.a)(R,2),z=(P[0],P[1]),M=Object(c.useState)(!1),F=Object(v.a)(M,2),q=F[0],W=F[1],Q=Object(o.b)(),B=Object(o.c)((function(e){return e.userDetails})),G=(B.error,B.loading),H=B.user,K=Object(o.c)((function(e){return e.userUpdateProfile})).success,Z=Object(o.c)((function(e){return e.userLogin})).userInfo,J=Object(o.c)((function(e){return e.podcastList})),Y=J.podcasts,V=J.loading;Object(c.useEffect)((function(){return document.querySelector(".navbar").classList.add("static"),Z&&Z.id?H&&H.name&&!K&&Z.id===H.id?(i(H.username),f(H.name),y(H.email),z(H.userProfile.profile_pic)):(Q({type:"USER_UPDATE_PROFILE_RESET"}),Q(b("profile"))):t.push("/login"),Q(L()),function(){document.querySelector(".navbar").classList.remove("static")}}),[Q,t,K,Z,H]);return Object(a.jsx)("div",{className:"user-panel hidden",children:Z&&Y?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"liked-podcasts",onLoad:function(){var e=document.querySelector(".user-panel");setTimeout((function(){e.classList.remove("hidden")}),150)},children:[Object(a.jsx)("h3",{className:"heading",children:"Polubienia:"}),Z&&Y.filter((function(e){return e.likes.find((function(e){return e.user===Z.id}))})).sort((function(e,t){var n=e.likes.findIndex((function(e){return e.user===Z.id})),a=t.likes.findIndex((function(e){return e.user===Z.id}));return Date.parse(t.likes[a].created)-Date.parse(e.likes[n].created)})).map((function(e,t){return Object(a.jsxs)(m.b,{className:"liked-podcast-link",to:"podcast/".concat(e.id),children:[Object(a.jsx)("span",{children:t+1}),Object(a.jsx)("img",{src:e.cover,alt:""}),Object(a.jsx)("h3",{children:e.title})]},e.title)}))]}),Object(a.jsxs)("div",{className:"user-data",children:[Object(a.jsxs)("div",{className:"photo-settings",children:[Object(a.jsxs)("div",{className:"picture-box",children:[H&&Object(a.jsx)("img",{className:"profile-pic",src:H.userProfile&&H.userProfile.profile_pic,alt:""}),q&&Object(a.jsx)("div",{className:"loader-box",children:Object(a.jsx)(w,{})})]}),Object(a.jsxs)("div",{className:"basic-data",children:[Object(a.jsx)("h1",{className:"username",children:H&&H.username}),Object(a.jsxs)("div",{className:"picture-form",children:[Object(a.jsx)("button",{children:"Zmie\u0144 zdj\u0119cie"}),Object(a.jsx)("input",{type:"file",placeholder:"Description",onChange:function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,c,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],(a=new FormData).append("file",n),a.append("profile_id",H.userProfile.id),W(!0),e.prev=5,c={headers:{"Content-Type":"multipart/form-data"}},e.next=9,p.a.post("/api/users/profile/upload/",a,c);case 9:return s=e.sent,r=s.data,e.next=13,Q(b("profile"));case 13:z(r),W(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),console.log(e.t0),W(!1);case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t){return e.apply(this,arguments)}}()})]})]})]}),Object(a.jsxs)("form",{className:"data-form",onSubmit:function(e){e.preventDefault(),N!==_?U("Passwords do not match"):(Q(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n,a){var c,s,r,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"USER_UPDATE_PROFILE_REQUEST"}),c=a(),s=c.userLogin.userInfo,r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,p.a.put("/api/users/profile/update/",e,r);case 6:i=t.sent,o=i.data,n({type:"USER_UPDATE_PROFILE_SUCCESS",payload:o}),n({type:"USER_LOGIN_SUCCESS",payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),n({type:"USER_UPDATE_PROFILE_FAIL",payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n){return t.apply(this,arguments)}}()}({id:H.id,username:r,name:h,email:g,password:N})),U(""))},children:[Object(a.jsx)("h3",{className:"heading",children:"Edytuj informacje"}),Object(a.jsx)("label",{children:"Nazwa u\u017cytkownika"}),Object(a.jsx)("input",{type:"text",value:r,onChange:function(e){return i(e.target.value)}}),Object(a.jsx)("label",{children:"Imi\u0119"}),Object(a.jsx)("input",{type:"text",value:h,onChange:function(e){return f(e.target.value)}}),Object(a.jsx)("label",{children:"Email"}),Object(a.jsx)("input",{type:"text",value:g,onChange:function(e){return y(e.target.value)}}),Object(a.jsx)("h3",{className:"heading",children:"Zmie\u0144 has\u0142o"}),Object(a.jsx)("label",{children:"Has\u0142o"}),Object(a.jsx)("input",{type:"password",value:N,onChange:function(e){return C(e.target.value)}}),Object(a.jsx)("label",{children:"Potwierd\u017a has\u0142o"}),Object(a.jsx)("input",{type:"password",value:_,onChange:function(e){return D(e.target.value)}}),Object(a.jsx)("button",{type:"submit",children:"Aktualizuj"})]})]})]}):V||G?Object(a.jsx)(w,{}):null})},P=function(e){var t=e.location,n=e.history,s=Object(c.useState)(""),r=Object(v.a)(s,2),i=r[0],l=r[1],j=Object(c.useState)(""),b=Object(v.a)(j,2),h=b[0],f=b[1],O=Object(o.b)(),x=t.search?t.search.split("=")[1]:"/",g=Object(o.c)((function(e){return e.userLogin})),y=g.error,S=g.loading,E=g.userInfo;Object(c.useEffect)((function(){return E&&n.push(x),N(),function(){C()}}),[E,x,t]);var N=function(){document.querySelector(".navbar").style.background="black";var e=document.querySelector(".login-register-form");setTimeout((function(){e.style.opacity="1"}),100)},C=function(){document.querySelector(".navbar").style.background="transparent"};return Object(a.jsx)("div",{className:"login-register-container",children:Object(a.jsxs)("form",{className:"login-register-form",onSubmit:function(e){e.preventDefault(),O(function(e,t){return function(){var n=Object(d.a)(u.a.mark((function n(a){var c,s,r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:"USER_LOGIN_REQUEST"}),c={headers:{"Content-type":"application/json"}},n.next=5,p.a.post("/api/users/login/",{username:e,password:t},c);case 5:s=n.sent,r=s.data,setTimeout((function(){a({type:"USER_LOGIN_SUCCESS",payload:r})}),1e3),localStorage.setItem("podcastUserInfo",JSON.stringify(r)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),a({type:"USER_LOGIN_FAIL",payload:n.t0.response&&n.t0.response.data.detail?n.t0.response.data.detail:n.t0.message});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}(i,h))},children:[Object(a.jsx)("h2",{className:"heading",children:"Zaloguj si\u0119"}),Object(a.jsx)("p",{className:"sign-in-info",children:"Wype\u0142nij formularz, aby si\u0119 zalogowa\u0107"}),Object(a.jsx)("input",{type:"text",placeholder:"Nazwa u\u017cytkownika",value:i,onChange:function(e){return l(e.target.value)}}),Object(a.jsx)("input",{type:"password",placeholder:"Has\u0142o",value:h,onChange:function(e){return f(e.target.value)}}),Object(a.jsx)("button",{type:"submit",children:"Zaloguj si\u0119"}),y&&Object(a.jsx)(A,{children:y}),S&&Object(a.jsx)(w,{}),Object(a.jsxs)("p",{className:"sign-in-info",children:["Nie masz konta?"," ",Object(a.jsx)(m.b,{to:"/register",className:"link-button",children:Object(a.jsx)("strong",{children:"Zarejestruj si\u0119"})})]})]})})},z=(n(107),n(108),function(){var e=Object(c.useState)([]),t=Object(v.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(!1),l=Object(v.a)(r,2),j=l[0],b=l[1],h=Object(i.f)(),f=h.location.search;f=f?f.split("?keyword=")[1].split("&")[0]:"";var O=Object(c.useState)(f.replace(/%20/g," ")),x=Object(v.a)(O,2),g=x[0],y=x[1],S=Object(o.b)(),E=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t){e.next=16;break}return e.prev=1,b(!0),e.next=5,p.a.get("/api/podcast/?keyword=".concat(t,"&page=1"));case 5:return n=e.sent,s(n.data.podcasts),e.next=9,setTimeout((function(){b(!1)}),750);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:e.next=17;break;case 16:s([]);case 17:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"search-bar",children:Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g?(h.push("/podcast/?keyword=".concat(g,"&page=1")),S(L)):h.push(h.location.pathname)},children:[Object(a.jsx)("input",{id:"search-input",type:"text",placeholder:"Szukaj podcast\xf3w",autoComplete:"off",value:g,onChange:function(e){y(e.target.value),E(e.target.value)}}),Object(a.jsx)("div",{className:"list",children:j?Object(a.jsx)(w,{}):n.slice(0,5).map((function(e,t){return Object(a.jsxs)(m.b,{className:"search-podcast-link",to:"/podcast/".concat(e.id),children:[Object(a.jsx)("img",{src:e.cover,alt:"cover"}),Object(a.jsxs)("div",{className:"data",children:[Object(a.jsx)("h3",{className:"podcast-title",children:e.title}),Object(a.jsx)("h6",{className:"category",children:e.category})]})]},t)}))})]})})}),M=n(47),F=(n(109),function(e){var t=e.page,n=e.pages,c=e.keyword;return c&&(c=c.split("?keyword=")[1].split("&")[0]),n>1?Object(a.jsx)("div",{className:"paginate",children:Object(M.a)(Array(n).keys()).map((function(e){return Object(a.jsx)("a",{className:"page-link ".concat(e+1===t?"active":""),href:"/podcast/?keyword=".concat(c,"&page=").concat(e+1),children:Object(a.jsx)("span",{children:e+1})},e+1)}))}):Object(a.jsx)("span",{})}),q=function(e){var t=e.history,n=Object(o.b)(),s=Object(o.c)((function(e){return e.podcastList})),r=s.podcasts,i=s.loading,l=s.pages,u=s.page,d=t.location.search,j=d;d&&(j=(j=j.split("=")[1].split("&")[0]).replace(/%20/g," ")),Object(c.useEffect)((function(){return document.querySelector(".navbar").classList.add("static"),n(L(d)),function(){return document.querySelector(".navbar").classList.remove("static")}}),[n,d]);var p=function(e){setTimeout((function(){e.style.opacity="1"}),25)},b=function(e){var n=e.target;"Wszystkie"===n.innerText?t.push("/podcast/"):t.push("/podcast/?keyword=".concat(n.innerText,"&page=1"))};return Object(a.jsx)("div",{className:"podcast-list fade-in-animation",children:i?Object(a.jsx)(w,{}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"settings",children:[Object(a.jsx)(z,{}),Object(a.jsx)("h3",{className:"heading",children:"Kategorie"}),Object(a.jsxs)("div",{className:"categories",children:[Object(a.jsx)("span",{className:"category-button",onClick:function(e){return b(e)},children:"Wszystkie"}),Object(a.jsx)("span",{className:"category-button",onClick:function(e){return b(e)},children:"Kosmos"}),Object(a.jsx)("span",{className:"category-button",onClick:function(e){return b(e)},children:"Technologia"}),Object(a.jsx)("span",{className:"category-button",onClick:function(e){return b(e)},children:"Klimat"})]})]}),Object(a.jsxs)("div",{className:"main",onLoad:function(){var e=document.querySelector(".podcast-list");setTimeout((function(){e.classList.remove("fade-in-animation")}),15)},children:[r[0]&&!d?Object(a.jsxs)("div",{className:"newest-podcast",children:[Object(a.jsx)("img",{className:"main-cover",src:r[0].cover,alt:"cover",onLoad:function(e){return p(e.target)}}),Object(a.jsxs)("div",{className:"newest-podcast-data",children:[Object(a.jsx)("h1",{children:r[0].title}),Object(a.jsx)("p",{children:r[0].description}),Object(a.jsx)(m.b,{className:"newest-button",to:"/podcast/".concat(r[0].id),children:"S\u0142uchaj"})]})]}):"",Object(a.jsxs)("div",{className:"newest-list",children:[d?Object(a.jsxs)("h3",{className:"heading",children:[j,":"]}):Object(a.jsx)("h3",{className:"heading",children:"Najnowsze podcasty:"}),Object(a.jsx)("div",{className:"content",children:r&&r.map((function(e,n){return(d?r:r[0]!==e)&&Object(a.jsxs)("div",{className:"podcast-button",onClick:function(){return function(e){t.push("/podcast/".concat(r[e].id))}(n)},children:[Object(a.jsx)("div",{className:"podcast-cover",children:e.cover?Object(a.jsx)("img",{className:"cover",src:e.cover,alt:"cover",onLoad:function(e){return p(e.target)}}):""}),Object(a.jsx)("h1",{className:"podcast-title",children:e.title})]},n)}))}),Object(a.jsx)(F,{page:u,pages:l,keyword:d})]})]})]})})},W=(n(110),function(e){var t=e.history,n=Object(o.b)(),s=Object(o.c)((function(e){return e.userLogin})).userInfo,r=Object(o.c)((function(e){return e.podcastList})),i=r.podcasts,l=r.loading,j=Object(o.c)((function(e){return e.userList})),b=j.loading,h=j.users,f=Object(o.c)((function(e){return e.userDelete})).success,O=Object(o.c)((function(e){return e.podcastDelete})).success,x=Object(o.c)((function(e){return e.podcastCreate})),v=(x.loading,x.error,x.success),g=x.podcast,y=t.location.search;Object(c.useEffect)((function(){return n({type:"PODCAST_CREATE_RESET"}),v?t.push("/admin/podcastlist/".concat(g.id,"/edit")):n(L(y)),s&&s.isAdmin?(n(function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a,c,s,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"USER_LIST_REQUEST"}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,p.a.get("/api/users/",s);case 6:r=e.sent,i=r.data,t({type:"USER_LIST_SUCCESS",payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"USER_LIST_FAIL",payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()),n(L())):t.push("/login"),S(),function(){E()}}),[n,t,y,s,O,f,v,g]);var S=function(){document.querySelector(".navbar").style.background="black"},E=function(){document.querySelector(".navbar").style.background="transparent"},N=function(e){window.confirm("Are you sure you want to delete this podcast?")&&n(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n,a){var c,s,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"PODCAST_DELETE_REQUEST"}),c=a(),s=c.userLogin.userInfo,r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,p.a.delete("/api/podcast/delete/".concat(e,"/"),r);case 6:n({type:"PODCAST_DELETE_SUCCESS"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:"PODCAST_DELETE_FAIL",payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()}(e))},C=function(e){window.confirm("Are you sure you want to delete this user?")&&n(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n,a){var c,s,r,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"USER_DELETE_REQUEST"}),c=a(),s=c.userLogin.userInfo,r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,p.a.delete("/api/users/delete/".concat(e,"/"),r);case 6:i=t.sent,o=i.data,n({type:"USER_DELETE_SUCCESS",payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:"USER_DELETE_FAIL",payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(e))};return Object(a.jsx)("div",{className:"admin-panel admin-panel-hidden",children:l||b?Object(a.jsx)(w,{}):Object(a.jsxs)(a.Fragment,{children:[function(){var e=document.querySelector(".admin-panel");e&&setTimeout((function(){e.classList.remove("admin-panel-hidden")}),15)}(),Object(a.jsx)("h1",{children:"Panel Administratora"}),Object(a.jsxs)("div",{className:"admin_users-list list-container",children:[Object(a.jsx)("div",{className:"topbar",children:Object(a.jsx)("h3",{children:"U\u017cytkownicy"})}),Object(a.jsxs)("table",{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"ID"}),Object(a.jsx)("th",{children:"USERNAME"}),Object(a.jsx)("th",{children:"EMAIL"}),Object(a.jsx)("th",{children:"ADMIN"}),Object(a.jsx)("th",{children:"EDYCJA"})]})}),Object(a.jsx)("tbody",{children:h&&h.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.id}),Object(a.jsx)("td",{children:e.username}),Object(a.jsx)("td",{children:e.email}),Object(a.jsx)("td",{children:e.isAdmin?Object(a.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(a.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(a.jsxs)("td",{children:[Object(a.jsx)(m.b,{to:"/admin/userlist/".concat(e.id,"/edit"),children:Object(a.jsx)("button",{children:Object(a.jsx)("i",{className:"fas fa-edit edit"})})}),Object(a.jsx)("button",{onClick:function(){return C(e.id)},children:Object(a.jsx)("i",{className:"fas fa-trash delete"})})]})]},e.id)}))})]})]}),Object(a.jsxs)("div",{className:"admin_podcasts-list list-container",children:[Object(a.jsxs)("div",{className:"topbar",children:[Object(a.jsx)("h3",{children:"Podcasty"}),Object(a.jsx)("button",{className:"adding-button",onClick:function(){n(function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a,c,s,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"PODCAST_CREATE_REQUEST"}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,p.a.post("/api/podcast/create/",{},s);case 6:r=e.sent,i=r.data,t({type:"PODCAST_CREATE_SUCCESS",payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"PODCAST_CREATE_FAIL",payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}())},children:"Dodaj nowy podcast +"})]}),Object(a.jsxs)("table",{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"ID"}),Object(a.jsx)("th",{children:"TYTU\u0141"}),Object(a.jsx)("th",{children:"KATEGORIA"}),Object(a.jsx)("th",{children:"EDYCJA"})]})}),Object(a.jsx)("tbody",{children:i&&i.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.id}),Object(a.jsx)("td",{children:Object(a.jsx)(m.b,{to:"/podcast/".concat(e.id),children:e.title})}),Object(a.jsx)("td",{children:e.category}),Object(a.jsxs)("td",{children:[Object(a.jsx)(m.b,{to:"/admin/podcastlist/".concat(e.id,"/edit"),children:Object(a.jsx)("button",{children:Object(a.jsx)("i",{className:"fas fa-edit edit"})})}),Object(a.jsx)("button",{onClick:function(){N(e.id)},children:Object(a.jsx)("i",{className:"fas fa-trash delete"})})]})]},e.id)}))})]})]})]})})}),Q=(n(39),function(e){var t=e.match,n=e.history,s=t.params.id,r=Object(o.b)(),i=Object(c.useState)(""),l=Object(v.a)(i,2),j=l[0],m=l[1],h=Object(c.useState)(""),f=Object(v.a)(h,2),O=f[0],x=f[1],g=Object(c.useState)(!1),y=Object(v.a)(g,2),S=y[0],E=y[1],N=Object(o.c)((function(e){return e.userDetails})),C=N.loading,k=N.user,T=Object(o.c)((function(e){return e.userUpdate})),_=T.error,D=T.success,I=T.loading;Object(c.useEffect)((function(){return D?(r({type:"USER_UPDATE_RESET"}),n.push("/adminpanel")):k.name&&k.id===Number(s)?(m(k.username),x(k.email),E(k.isAdmin)):r(b(s)),L(),function(){return U()}}),[r,k,s,n,D]);var L=function(){document.querySelector(".navbar").style.background="black"},U=function(){document.querySelector(".navbar").style.background="transparent"};return Object(a.jsx)("div",{className:"user-edit",children:C?Object(a.jsx)(w,{}):Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n,a){var c,s,r,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"USER_UPDATE_REQUEST"}),c=a(),s=c.userLogin.userInfo,r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,p.a.put("/api/users/update/".concat(e.id,"/"),e,r);case 6:i=t.sent,o=i.data,n({type:"USER_UPDATE_SUCCESS"}),n({type:"USER_DETAILS_SUCCESS",payload:o}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n({type:"USER_UPDATE_FAIL",payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}({id:k.id,name:j,email:O,isAdmin:S}))},children:[_&&Object(a.jsx)(A,{children:_}),I&&Object(a.jsx)(w,{}),Object(a.jsx)("label",{children:"Name"}),Object(a.jsx)("input",{type:"name",placeholder:"Enter name",value:j,onChange:function(e){return m(e.target.value)}}),Object(a.jsx)("label",{children:"Email Address"}),Object(a.jsx)("input",{type:"email",placeholder:"Enter Email",value:O,onChange:function(e){return x(e.target.value)}}),Object(a.jsx)("label",{children:"Admin"}),Object(a.jsx)("input",{type:"checkbox",checked:S,onChange:function(){return E(!S)}}),Object(a.jsx)("button",{className:"update-button",type:"submit",children:"Update"})]})})}),B=function(e){var t=e.match,n=e.history,s=t.params.id,r=Object(o.b)(),i=Object(c.useState)("title"),l=Object(v.a)(i,2),j=l[0],b=l[1],m=Object(c.useState)("category"),h=Object(v.a)(m,2),f=h[0],O=h[1],x=Object(c.useState)("description"),g=Object(v.a)(x,2),y=g[0],S=g[1],E=Object(c.useState)("cover"),N=Object(v.a)(E,2),C=N[0],k=N[1],T=Object(c.useState)("background"),_=Object(v.a)(T,2),D=_[0],I=_[1],L=Object(c.useState)("file"),R=Object(v.a)(L,2),P=R[0],z=R[1],M=Object(c.useState)(!1),F=Object(v.a)(M,2),q=F[0],W=F[1],Q=Object(o.c)((function(e){return e.podcastDetails})),B=Q.podcast,G=Q.loading,H=Object(o.c)((function(e){return e.podcastUpdate})),K=H.error,Z=H.success,J=H.loading;Object(c.useEffect)((function(){return Z?(r({type:"PODCAST_UPDATE_RESET"}),n.push("/adminpanel")):B.title&&B.id===Number(s)?(b(B.title),O(B.category),S(B.description),k(B.cover),I(B.background),z(B.file)):r(U(s)),Y(),function(){return V()}}),[r,B,s,n,Z]);var Y=function(){document.querySelector(".navbar").style.background="black"},V=function(){document.querySelector(".navbar").style.background="transparent"},X=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var a,c,r,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.target.files[0],(c=new FormData).append("file",a),c.append("podcast_id",s),c.append("type",e),W(!0),t.prev=6,r={headers:{"Content-Type":"multipart/form-data"}},t.next=10,p.a.post("/api/podcast/upload/",c,r);case 10:i=t.sent,o=i.data,k(o),W(!1),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(6),console.log(t.t0),W(!1);case 20:case"end":return t.stop()}}),t,null,[[6,16]])})));return function(e){return t.apply(this,arguments)}}()};return Object(a.jsx)("div",{className:"podcast-edit",children:G?Object(a.jsx)(w,{}):Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n,a){var c,s,r,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"PODCAST_UPDATE_REQUEST"}),c=a(),s=c.userLogin.userInfo,r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,p.a.put("/api/podcast/update/".concat(e.id,"/"),e,r);case 6:i=t.sent,o=i.data,n({type:"PODCAST_UPDATE_SUCCESS",payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:"PODCAST_UPDATE_FAIL",payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}({id:B.id,title:j,description:y,category:f}))},children:[K&&Object(a.jsx)(A,{children:K}),J&&Object(a.jsx)(w,{}),Object(a.jsx)("label",{children:"Tytu\u0142"}),Object(a.jsx)("input",{type:"text",placeholder:"Wprowad\u017a tytu\u0142",value:j,onChange:function(e){return b(e.target.value)}}),Object(a.jsx)("label",{children:"Kategoria"}),Object(a.jsx)("input",{type:"text",placeholder:"Wprowad\u017a kategori\u0119",value:f,onChange:function(e){return O(e.target.value)}}),Object(a.jsx)("label",{children:"Opis"}),Object(a.jsx)("textarea",{placeholder:"Wprowad\u017a opis",value:y,onChange:function(e){return S(e.target.value)}}),Object(a.jsx)("h3",{className:"heading",children:"Podcast"}),Object(a.jsx)("input",{type:"text",placeholder:"Description",value:P,disabled:!0,onChange:function(e){return z(e.target.value)}}),Object(a.jsxs)("div",{className:"file-form",children:[Object(a.jsx)("input",{type:"file",placeholder:"Description",onChange:X("audio")}),Object(a.jsx)("button",{children:"Zmie\u0144 plik audio"})]}),Object(a.jsx)("h3",{className:"heading",children:"Ok\u0142adka"}),Object(a.jsx)("input",{type:"text",placeholder:"Description",value:C,disabled:!0,onChange:function(e){return k(e.target.value)}}),Object(a.jsxs)("div",{className:"file-form",children:[Object(a.jsx)("input",{type:"file",placeholder:"Description",onChange:X("cover")}),Object(a.jsx)("button",{children:"Zmie\u0144 ok\u0142adk\u0119"})]}),Object(a.jsx)("h3",{className:"heading",children:"T\u0142o"}),Object(a.jsx)("input",{type:"text",placeholder:"Description",value:D,disabled:!0,onChange:function(e){return I(e.target.value)}}),Object(a.jsxs)("div",{className:"file-form",children:[Object(a.jsx)("input",{type:"file",placeholder:"Description",onChange:X("background")}),Object(a.jsx)("button",{children:"Zmie\u0144 t\u0142o"})]}),q&&Object(a.jsx)(w,{}),Object(a.jsx)("button",{className:"update-button",type:"submit",children:"Update"})]})})},G=(n(111),n(121)),H=n(43),K=function(e,t){return function(){var n=Object(d.a)(u.a.mark((function n(a){var c,s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t&&a({type:"PODCAST_COMMENTS_LIST_REQUEST"}),n.next=4,p.a.get("/api/podcast/".concat(e,"/comments"));case 4:c=n.sent,s=c.data,a({type:"PODCAST_COMMENTS_LIST_SUCCESS",payload:s}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),a({type:"PODCAST_COMMENTS_LIST_FAIL",payload:n.t0.response&&n.t0.response.data.detail?n.t0.response.data.detail:n.t0.message});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},Z=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return function(){var r=Object(d.a)(u.a.mark((function r(i,o){var l,d,j,b,m;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i({type:"COMMENT_CREATE_REQUEST"}),l=o(),d=l.userLogin.userInfo,j={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(d.token)}},r.next=6,p.a.post("/api/podcast/".concat(e,"/create_comment/"),{text:n,type:t,commentId:a,replyId:c,author:s},j);case 6:b=r.sent,m=b.data,i({type:"COMMENT_CREATE_SUCCESS",payload:m}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),i({type:"COMMENT_CREATE_FAIL",payload:r.t0.response&&r.t0.response.data.detail?r.t0.response.data.detail:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()},J=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n,a){var c,s,r,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"COMMENT_DELETE_REQUEST"}),c=a(),s=c.userLogin.userInfo,r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,p.a.delete("/api/podcast/".concat(e,"/delete_comment/"),r);case 6:i=t.sent,o=i.data,n({type:"COMMENT_DELETE_SUCCESS",payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:"COMMENT_DELETE_FAIL",payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()},Y=(n(112),function(e){var t=e.commentToDelete,n=Object(o.b)(),c=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(J(t));case 2:s();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){document.querySelector(".confirm").style.display="none"};return Object(a.jsx)("div",{className:"confirm",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("p",{children:"Czy na pewno chcesz usun\u0105\u0107 ten komentarz?"}),Object(a.jsxs)("div",{className:"buttons",children:[Object(a.jsx)("button",{onClick:s,children:"Anuluj"}),Object(a.jsx)("button",{className:"delete",onClick:c,children:"Usu\u0144 komentarz"})]})]})})}),V=(n(113),function e(t){var n=t.comment,c=t.commentId,s=t.userInfo,r=t.timeAgo,o=t.submitEditComment,l=t.startStopEditingComment,u=t.commentDeleteHandler,d=t.likeUnlike,j=t.editCommentText,p=t.showCommentForm,b=t.createCommentHandler,m=t.hideForm,h=t.isReply,f=Object(i.f)();return Object(a.jsxs)("div",{id:"comment-".concat(n.id),className:"comment ".concat(s&&n.user===s.id&&"my-comment"," ").concat(h&&"reply"),children:[Object(a.jsxs)("div",{className:"comment-data-container",children:[Object(a.jsx)("img",{className:"author-profile-photo",src:n.authorProfile.profile_pic,alt:"profile-pic"}),Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsxs)("div",{className:"comment-info",children:[Object(a.jsxs)("div",{className:"basic",children:[Object(a.jsx)("span",{className:"author",children:n.author}),Object(a.jsxs)("span",{className:"date-added",children:[Object(a.jsx)("i",{className:"far fa-calendar"}),n.date_added&&r.format(Date.parse(n.date_added))]}),n.was_edited&&Object(a.jsx)("span",{className:"edited",children:"(edytowany)"})]}),Object(a.jsx)("div",{className:"comment-user-functions",children:s&&n.user===s.id?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"edit-buttons buttons-disabled",children:[Object(a.jsx)("i",{className:"fas fa-check-square accept",onClick:function(){return o(n.id)}}),Object(a.jsx)("i",{className:"fas fa-minus-square cancel",onClick:function(){return l(n.id)}})]}),Object(a.jsxs)("div",{className:"owner-buttons",children:[Object(a.jsx)("i",{className:"fas fa-pen edit",onClick:function(){return l(n.id)}}),Object(a.jsx)("i",{className:"fas fa-trash delete",onClick:function(){return u(n.id)}})]})]}):Object(a.jsxs)("div",{className:"activities",children:[Object(a.jsx)("i",{className:"fas fa-heart like-button ".concat(s&&n.likes.find((function(e){return e.user===s.id}))&&"liked"," "),onClick:function(e){return d(e.target,n.id)}}),Object(a.jsx)("span",{id:"likes-".concat(n.id),className:"like-balance",children:n.likes.length})]})})]}),Object(a.jsxs)("span",{id:"comment-input-".concat(n.id),className:"content comment-content-text",onChange:function(e){c?j(e.target,c,n.id):j(e.target,n.id)},children:[n.higher_author&&Object(a.jsxs)("span",{className:"higher-author",children:["@",n.higher_author]}),Object(a.jsx)("span",{className:"comment-text",children:n.text})]}),Object(a.jsx)("p",{className:"respond-button",onClick:function(){return p(n.id)},children:"Odpowiedz"}),Object(a.jsxs)("form",{className:"comment-form",onSubmit:function(e){c?b(e,"comment",c,n.id,n.author):b(e,"comment",n.id,0,n.author)},children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("input",{id:"textBox-".concat(n.id),name:"comment",autoComplete:"off",placeholder:"Napisz komentarz...",onClick:function(){return s?"":f.push("/login")},required:!0}),Object(a.jsx)("div",{className:"line"})]}),Object(a.jsxs)("div",{className:"comment-buttons comment-active",children:[Object(a.jsx)("button",{className:"cancel-button",type:"reset",onClick:function(){return m(n.id)},children:"Anuluj"}),Object(a.jsx)("button",{className:"submit-button",type:"submit",onClick:function(){return m(n.id)},children:"Skomentuj"})]})]})]})]}),Object(a.jsx)(w,{}),n.replies&&n.replies.sort((function(e,t){return Date.parse(e.date_added)-Date.parse(t.date_added)})).map((function(t){return Object(a.jsx)(e,{comment:t,commentId:n.id,userInfo:s,timeAgo:r,submitEditComment:o,startStopEditingComment:l,commentDeleteHandler:u,likeUnlike:d,editCommentText:j,showCommentForm:p,createCommentHandler:b,hideForm:m,isReply:!0},t.id)}))]})}),X=function(e){var t=e.podcastId,n=Object(c.useState)(""),s=Object(v.a)(n,2),r=s[0],l=s[1],j=Object(c.useState)(0),b=Object(v.a)(j,2),m=b[0],h=b[1],f=Object(c.useState)(!1),O=Object(v.a)(f,2);O[0],O[1];G.a.addLocale(H);var x=new G.a("pl-PL");x.format(new Date);var g=Object(o.b)(),y=Object(i.f)(),S=Object(o.c)((function(e){return e.userLogin})).userInfo,E=Object(o.c)((function(e){return e.commentsList})),N=E.comments,C=E.loading,k=Object(o.c)((function(e){return e.commentDelete})).success,T=Object(o.c)((function(e){return e.commentCreate})).success;Object(c.useEffect)((function(){(T||k)&&l(""),g(K(t))}),[g,t,T,k]);var _=function(){var e=Object(d.a)(u.a.mark((function e(n,a){var c,s,r,i,o,l,d,j,p=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=p.length>2&&void 0!==p[2]?p[2]:0,s=p.length>3&&void 0!==p[3]?p[3]:0,r=p.length>4&&void 0!==p[4]?p[4]:"",n.preventDefault(),console.log(c),S){e.next=9;break}return i=document.querySelector("#comment-".concat(c)),console.log(i),e.abrupt("return");case 9:return s?(o="textBox-".concat(s),l="#comment-".concat(s," .loader")):c?(o="textBox-".concat(c),l="#comment-".concat(c," .loader")):(o="textBox",l=".comments .loader"),d=document.getElementById(o),(j=document.querySelector(l)).classList.add("loader-visible"),e.next=15,g(Z(t,a,d.value,c,s,r));case 15:return e.next=17,g(K(t,!1));case 17:j.classList.remove("loader-visible"),d.value="";case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(t),document.querySelector(".confirm").style.display="flex";case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(e){l(""),document.querySelector("#comment-".concat(e," .comment-form")).style.display="none"},I=function(e){document.querySelector("#comment-".concat(e," .comment-form")).style.display="flex"},L=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a,c,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=3;break}return y.push("/login"),e.abrupt("return");case 3:if(a=t,e.prev=4,c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(S.token)}},s=document.getElementById("likes-".concat(n)),r=a.classList.contains("liked"),a.classList.toggle("liked"),console.log(r),!r){e.next=16;break}return e.next=13,p.a.delete("/api/podcast/comments/".concat(n,"/unlike/"),c);case 13:s.innerText=Number(s.innerText)-1,e.next=19;break;case 16:return e.next=18,p.a.post("/api/podcast/comments/".concat(n,"/like/"),{},c);case 18:s.innerText=Number(s.innerText)+1;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(4),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[4,21]])})));return function(t,n){return e.apply(this,arguments)}}(),U=function(e){var t=document.querySelector("#comment-".concat(e," .comment-user-functions .edit-buttons")),n=document.querySelector("#comment-".concat(e," .comment-user-functions .owner-buttons"));t.classList.toggle("buttons-disabled"),n.classList.toggle("buttons-disabled")},R=function(e){U(e);var n=document.getElementById("comment-input-".concat(e));"true"===n.contentEditable?n.contentEditable="false":(g(K(t,!1)),n.contentEditable="true"),n.focus()},P=function(e,t,n){var a=N,c=a.find((function(e){return e.id===t}));n?c.replies.find((function(e){return e.id===n})).text=e.value:c.text=e.value,g({type:"PODCAST_COMMENTS_LIST_SUCCESS",payload:a})},z=function(){var e=Object(d.a)(u.a.mark((function e(n){var a,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=document.getElementById("comment-input-".concat(n)),c=document.querySelector("#comment-input-".concat(n," .comment-text")),e.prev=2,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(S.token)}},e.next=6,p.a.put("/api/podcast/comments/".concat(n,"/update/"),{text:c.innerText},s);case 6:return U(n),a.contentEditable="false",e.next=10,g(K(t,!1));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return N?Object(a.jsxs)("div",{className:"comments",children:[void document.querySelectorAll(".comment-content-text").forEach((function(e){e.addEventListener("paste",(function(e){e.preventDefault();var t=(e.originalEvent||e).clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,t)}))})),Object(a.jsx)(Y,{commentToDelete:m}),N&&0===N.length?Object(a.jsx)("h3",{className:"section-title",children:"Nie ma jeszcze \u017cadnych komentarzy"}):Object(a.jsx)("h3",{className:"section-title",children:"Komentarze"}),Object(a.jsxs)("form",{className:"comment-form",onSubmit:function(e){return _(e,"podcast")},children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("input",{id:"textBox",name:"comment",value:r,autoComplete:"off",onChange:function(e){return l(e.target.value)},onClick:function(){return S?"":y.push("/login")},placeholder:"Napisz komentarz...",required:!0}),Object(a.jsx)("div",{className:"line"})]}),Object(a.jsxs)("div",{className:"comment-buttons comment-active",children:[Object(a.jsx)("button",{className:"cancel-button",type:"reset",onClick:function(){return l("")},children:"Anuluj"}),Object(a.jsx)("button",{className:"submit-button",type:"submit",children:"Skomentuj"})]})]}),Object(a.jsx)(w,{}),Object(a.jsx)("div",{className:"comments-list",children:N.map((function(e){return Object(a.jsx)(V,{comment:e,userInfo:S,timeAgo:x,submitEditComment:z,startStopEditingComment:R,commentDeleteHandler:D,likeUnlike:L,editCommentText:P,showCommentForm:I,createCommentHandler:_,hideForm:A},e.id)}))})]}):C?Object(a.jsx)(w,{}):null},$=(n(114),function(e){var t=e.podcastId,n=Object(c.useState)(0),s=Object(v.a)(n,2),r=s[0],l=s[1],j=Object(c.useState)(!1),b=Object(v.a)(j,2),m=b[0],h=b[1],f=Object(c.useState)([]),O=Object(v.a)(f,2),x=O[0],g=O[1],y=Object(c.useState)(0),S=Object(v.a)(y,2),E=S[0],N=S[1],C=Object(c.useState)({}),k=Object(v.a)(C,2),T=k[0],_=k[1],D=Object(c.useState)(window.innerWidth<420),A=Object(v.a)(D,2),I=A[0],L=A[1],R=Object(o.b)(),P=Object(i.f)(),z=Object(o.c)((function(e){return e.podcastDetails})),M=z.podcast,F=z.loading,q=Object(o.c)((function(e){return e.userLogin})).userInfo,W=function(){var e=Object(d.a)(u.a.mark((function e(){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/api/podcast/".concat(t,"/preview/"));case 3:n=e.sent,a=n.data,_(a),console.log(T),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=document.querySelector(".player");e&&window.innerWidth<420?(L(!0),e.style.background="rgb".concat(M.dominant_color)):L(!1)};Object(c.useEffect)((function(){window.scrollTo(0,0),window.addEventListener("resize",Q),M.title&&M.id===Number(t)?(K(),B(),l(M.likes.length),g(M.likes),window.innerWidth<420&&(document.querySelector(".player").style.background="rgb".concat(M.dominant_color)),q&&M.likes.find((function(e){return e.user===q.id}))&&h(!0)):(R(U(t)),W())}),[R,M,q,t,T]),Object(c.useEffect)((function(){return function(){R({type:"PODCAST_DETAILS_RESET"})}}),[]);var B=function(){var e=document.querySelector(".player");setTimeout((function(){e.classList.remove("fade-in-animation")}),25)},G=function(e){setTimeout((function(){e.style.opacity="1"}),100)},H=function(){var e=Object(d.a)(u.a.mark((function e(){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q){e.next=3;break}return P.push("/login"),e.abrupt("return");case 3:if(n=document.querySelector(".like-button"),e.prev=4,a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(q.token)}},n.classList.toggle("liked"),h(!m),!m){e.next=15;break}return l(r-1),e.next=12,p.a.delete("/api/podcast/".concat(t,"/unlike/"),a);case 12:x.splice(x.indexOf(q.id),1),e.next=19;break;case 15:return l(r+1),e.next=18,p.a.post("/api/podcast/".concat(t,"/like/"),{},a);case 18:x.push(q.id);case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(4),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[4,21]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=0;M.comments.forEach((function(t){e+=1,t.replies&&(e+=t.replies.length)})),N(e)};return Object(a.jsx)("div",{className:"player fade-in-animation",children:F?Object(a.jsx)(w,{}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"content",children:[M.background&&!I?Object(a.jsx)("img",{src:M.background,alt:"cover",className:"background",onLoad:function(e){return G(e.target)}}):Object(a.jsx)("img",{src:M.cover,alt:"cover",className:"cover",onLoad:function(e){return G(e.target)}}),Object(a.jsx)("div",{className:"gradient"}),Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsx)("div",{className:"flex-container",children:Object(a.jsxs)("div",{className:"podcast-data",children:[Object(a.jsx)("span",{className:"category",children:M.category}),Object(a.jsx)("h1",{className:"title",children:M.title}),Object(a.jsxs)("div",{className:"activities",children:[Object(a.jsxs)("span",{className:"activity",children:[Object(a.jsx)("i",{className:"fas fa-heart like-button ".concat(m?"liked":""),onClick:H}),r]}),Object(a.jsxs)("span",{className:"activity",children:[Object(a.jsx)("i",{className:"fas fa-comment comment-button",onClick:function(){var e=document.querySelector(".comments");window.scrollTo({top:e.offsetTop,behavior:"smooth"})}}),E]})]}),Object(a.jsx)("p",{className:"description",children:M.description}),M.file&&Object(a.jsx)("audio",{controls:!0,preload:"auto",id:"podcast-audio-file",autoPlay:!0,children:Object(a.jsx)("source",{src:M.file,type:"audio/mpeg"})})]})})})]}),T.title&&Object(a.jsxs)("div",{className:"next-podcast-preview",children:[Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsx)("span",{className:"heading-preview",children:"Pos\u0142uchaj tak\u017ce:"}),Object(a.jsx)("h3",{children:T.title}),Object(a.jsx)("span",{className:"preview-link",onClick:function(){P.push("/podcast/".concat(T.id)),P.go(0)},children:"Przejd\u017a"})]}),Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsx)("img",{src:T.cover,alt:"preview-cover",onLoad:function(e){return G(e.target)}}),Object(a.jsxs)("span",{className:"preview-likes",children:[Object(a.jsx)("i",{className:"far fa-heart"}),T.likes.length]})]})]})]})})}),ee=function(e){var t=e.match;return Object(a.jsxs)("div",{className:"podcast",children:[Object(a.jsx)($,{podcastId:t.params.id}),Object(a.jsx)(X,{podcastId:t.params.id})]})},te=(n(115),n.p+"static/media/background-landing.401131fe.jpg"),ne=n.p+"static/media/background-weather-preview.ce087502.jpg",ae=function(){var e=Object(o.b)(),t=Object(c.useState)(0),n=Object(v.a)(t,2),s=n[0],r=n[1],i=Object(c.useState)(""),l=Object(v.a)(i,2),j=l[0],b=l[1],h=Object(c.useState)(!1),f=Object(v.a)(h,2),O=f[0],x=f[1],g=Object(o.c)((function(e){return e.podcastDetails})),y=g.podcast,S=g.loading,E=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"e7eec20a0655f51584d3e1a50afa74ca",t="https://api.openweathermap.org/data/2.5/forecast?q=Warsaw&appid=".concat("e7eec20a0655f51584d3e1a50afa74ca","&units=metric"),x(!0),e.prev=3,e.next=6,p.a.get(t);case 6:n=e.sent,a=n.data,r(a.list[0].main.temp),b(a.list[0].weather[0].main),x(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0),x(!1);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){(e(U(0)),y.title&&C(),s&&j||E(),window.innerWidth<1024)&&document.querySelectorAll(".landing .podcast-preview").forEach((function(e){e.style.height="".concat(window.innerHeight,"px")}))}),[e,y]),Object(c.useEffect)((function(){return function(){e({type:"PODCAST_DETAILS_RESET"})}}),[]);var N=function(e){setTimeout((function(){e.target.style.opacity="1"}),100)},C=function(){var e=document.querySelectorAll(".text-content");e[0]&&setTimeout((function(){e[0].classList.remove("hidden")}),15),window.addEventListener("scroll",(function(){e.forEach((function(e){window.scrollY>e.offsetTop+e.offsetHeight&&e.classList.remove("hidden")}))}))};return Object(a.jsxs)("div",{className:"landing",children:[Object(a.jsxs)("div",{className:"podcast-preview section-preview",children:[Object(a.jsx)("img",{className:"background-image",src:te,alt:"sky",onLoad:N}),y&&y.title?Object(a.jsxs)("div",{className:"text-content hidden",children:[Object(a.jsx)("h3",{children:"Najnowszy podcast"}),Object(a.jsx)("h1",{className:"podcast-title",children:y&&y.title}),Object(a.jsx)(m.b,{to:"/podcast",className:"basic-button",id:"podcast-button",children:"Przejd\u017a do podcastu"})]}):S?Object(a.jsx)(w,{}):""]}),Object(a.jsxs)("div",{className:"podcast-preview section-preview",children:[Object(a.jsx)("img",{className:"background-image",src:ne,alt:"sky",onLoad:N}),0!==s?Object(a.jsxs)("div",{className:"text-content hidden",children:[Object(a.jsx)("h3",{children:"Pogoda w Warszawie"}),Object(a.jsxs)("h1",{className:"podcast-title",children:[Math.round(s),"\xb0 ",k(j)]}),Object(a.jsx)(m.b,{to:"/weather",className:"basic-button",id:"podcast-button",children:"Przejd\u017a do prognozy"})]}):O?Object(a.jsx)(w,{}):""]})]})};var ce=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(h,{}),Object(a.jsxs)(i.c,{children:[Object(a.jsx)(i.a,{exact:!0,path:"/",component:ae}),Object(a.jsx)(i.a,{exact:!0,path:"/podcast",component:q}),Object(a.jsx)(i.a,{exact:!0,path:"/podcast/:id",component:ee}),Object(a.jsx)(i.a,{exact:!0,path:"/contact",component:y}),Object(a.jsx)(i.a,{exact:!0,path:"/weather",component:D}),Object(a.jsx)(i.a,{exact:!0,path:"/login",component:P}),Object(a.jsx)(i.a,{exact:!0,path:"/register",component:I}),Object(a.jsx)(i.a,{exact:!0,path:"/user",component:R}),Object(a.jsx)(i.a,{exact:!0,path:"/adminpanel",component:W}),Object(a.jsx)(i.a,{exact:!0,path:"/admin/userlist/:id/edit",component:Q}),Object(a.jsx)(i.a,{exact:!0,path:"/admin/podcastlist/:id/edit",component:B})]}),Object(a.jsx)(f,{})]})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,122)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))},re=n(15),ie=n(44),oe=n(45),le=n(17),ue=Object(re.combineReducers)({podcastList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{podcasts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PODCAST_LIST_REQUEST":return{loading:!0,podcasts:[]};case"PODCAST_LIST_SUCCESS":return{loading:!1,podcasts:t.payload.podcasts,page:t.payload.page,pages:t.payload.pages};case"PODCAST_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},podcastDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{podcast:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PODCAST_DETAILS_REQUEST":return Object(le.a)(Object(le.a)({},e),{},{loading:!0});case"PODCAST_DETAILS_SUCCESS":return{loading:!1,podcast:t.payload};case"PODCAST_DETAILS_FAIL":return{loading:!1,error:t.payload};case"PODCAST_DETAILS_RESET":return{podcast:{}};default:return e}},podcastCommentCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PODCAST_CREATE_COMMENT_REQUEST":return{loading:!0,comment:{}};case"PODCAST_CREATE_COMMENT_SUCCESS":return{loading:!1,podcast:t.payload};case"PODCAST_CREATE_COMMENT_FAIL":return{loading:!1,error:t.payload};default:return e}},podcastDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PODCAST_DELETE_REQUEST":return{loading:!0};case"PODCAST_DELETE_SUCCESS":return{loading:!1,success:!0};case"PODCAST_DELETE_FAIL":return{loading:!1,success:!1};default:return e}},podcastUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{podcast:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PODCAST_UPDATE_REQUEST":return{loading:!0};case"PODCAST_UPDATE_SUCCESS":return{loading:!1,success:!0,podcast:t.payload};case"PODCAST_UPDATE_FAIL":return{loading:!1,success:!1};case"PODCAST_UPDATE_RESET":return{podcast:{}};default:return e}},podcastCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PODCAST_CREATE_REQUEST":return{loading:!0};case"PODCAST_CREATE_SUCCESS":return{loading:!1,success:!0,podcast:t.payload};case"PODCAST_CREATE_FAIL":return{loading:!1,error:t.payload};case"PODCAST_CREATE_RESET":return{};default:return e}},commentsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PODCAST_COMMENTS_LIST_REQUEST":return{loading:!0,comments:[]};case"PODCAST_COMMENTS_LIST_SUCCESS":return{loading:!1,comments:t.payload};case"PODCAST_COMMENTS_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},commentCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMENT_CREATE_REQUEST":return{loading:!0};case"COMMENT_CREATE_SUCCESS":return{loading:!1,success:!0,podcast:t.payload};case"COMMENT_CREATE_FAIL":return{loading:!1,error:t.payload};case"COMMENT_CREATE_RESET":return{};default:return e}},commentDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMENT_DELETE_REQUEST":return{loading:!0};case"COMMENT_DELETE_SUCCESS":return{loading:!1,success:!0};case"COMMENT_DELETE_FAIL":return{loading:!1,success:!1};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_REQUEST":return{loading:!0};case"USER_LOGIN_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_LOGIN_FAIL":return{loading:!1,error:t.payload};case"USER_LOGOUT":return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_REQUEST":return{loading:!0};case"USER_REGISTER_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_REGISTER_FAIL":return{loading:!1,error:t.payload};case"USER_LOGOUT":return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LIST_REQUEST":return{loading:!0};case"USER_LIST_SUCCESS":return{loading:!1,users:t.payload};case"USER_LIST_FAIL":return{loading:!1,error:t.payload};case"USER_LIST_RESET":return{users:[]};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DELETE_REQUEST":return{loading:!0};case"USER_DELETE_SUCCESS":return{loading:!1,success:!0};case"USER_DELETE_FAIL":return{loading:!1,success:!1};case"USER_DELETE_RESET":return{users:[]};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DETAILS_REQUEST":return Object(le.a)(Object(le.a)({},e),{},{loading:!0});case"USER_DETAILS_SUCCESS":return{loading:!1,user:t.payload};case"USER_DETAILS_FAIL":return{loading:!1,error:t.payload};case"USER_DETAILS_RESET":return{user:{}};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_UPDATE_REQUEST":return{loading:!0};case"USER_UPDATE_SUCCESS":return{loading:!1,success:!0};case"USER_UPDATE_FAIL":return{loading:!1,error:t.payload};case"USER_UPDATE_RESET":return{user:{}};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_UPDATE_PROFILE_REQUEST":return{loading:!0};case"USER_UPDATE_PROFILE_SUCCESS":return{loading:!1,success:!0,userInfo:t.payload};case"USER_UPDATE_PROFILE_FAIL":return{loading:!1,error:t.payload};case"USER_UPDATE_PROFILE_RESET":return{};default:return e}}}),de={userLogin:{userInfo:localStorage.getItem("podcastUserInfo")?JSON.parse(localStorage.getItem("podcastUserInfo")):null}},je=[ie.a],pe=Object(re.createStore)(ue,de,Object(oe.composeWithDevTools)(re.applyMiddleware.apply(void 0,je)));r.a.render(Object(a.jsx)(m.a,{children:Object(a.jsx)(o.a,{store:pe,children:Object(a.jsx)(ce,{})})}),document.getElementById("root")),se()}]),[[116,1,2]]]);
//# sourceMappingURL=main.b97ed5b9.chunk.js.map